#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = require("path");
const program = require('commander');
const updateNotifier = require('update-notifier');
const chalk = require('chalk');
const logUpdate = require('log-update');
const Conf = require('conf');
const debug = require("debug");
const __1 = require("../");
const human_1 = require("../utils/human");
const progress_1 = require("../utils/progress");
const EMPTY_STRING = '';
const log = debug('pully:cli');
const pkg = require(path_1.join(__dirname, '../../package.json'));
updateNotifier({ pkg }).notify();
const config = new Conf();
let progressBar;
// Log any unhandled exceptions...
process.on('uncaughtException', err => log(`uncaughtException: ${err}`, err));
process.on('unhandledRejection', (err, promise) => log(`unhandledRejection: ${err}`, err, promise));
swapArgs('-v', '-V'); // Convert -v to -V so version works correctly...
swapArgs('/?', '-h'); // Convert /? to also show help info...
program
    .command('download <url>').alias('dl')
    .description('Downloads a video from the YouTube link.')
    .option('-p, --preset <preset>', 'The preset format to download.')
    .option('-d, --dir <dir>', 'The location to save the download.')
    .option('-t, --template <template>', 'The format of the the filename, recursively creating missing subfolders.')
    .option('-l, --limit <size>', 'The maximum filesize to download.')
    .option('-s, --silent', 'Hides all output.')
    .action(function (url, options) {
    options.url = url;
    return mergeOptions(options)
        .then((options => {
        return new __1.Pully().download(options);
    }))
        .then((result) => {
        options.silent || logUpdate(`${chalk.magenta(result.format.data.videoTitle)} saved as
  ${chalk.green(result.path)} [${human_1.toHumanTime(result.duration / 1000)}]`);
        process.exit(0);
    }, err => {
        if (!options.silent) {
            try {
                logUpdate(chalk.red(err.toString()));
            }
            catch (ex) {
                logUpdate.clear();
                console.error(err);
            }
        }
        process.exit(1);
    });
});
program
    .command('get [key]')
    .description('Gets the global config values or the config value if the key is specified.')
    .action((key) => {
    console.log(configStore(key));
    return process.exit(0);
});
program
    .command('set <key> <value>')
    .description('Sets a value in the global config. The values will be used when downloading.')
    .action((key, value) => {
    configStore(key, value);
    console.log(configStore());
    return process.exit(0);
});
program
    .command('delete <key>').alias(['del'])
    .description('Deletes a value in the global config.')
    .action((key) => {
    configStoreDelete(key);
    console.log(configStore());
    return process.exit(0);
});
program.on('--help', () => {
    console.log(`  Global Config Keys:
    preset       The preset to download (defaults to "hd").
    dir          The directory to download to (default to current directory).
    template     The filename template, uses \${notation} and respects subfolders (defaults to "\${author}\\\${title}").
    limit        The maximum filesize to download in MB, useful when bandwidth is limited (defaults to no limit).
`);
});
program
    .version(pkg.version)
    .parse(process.argv);
// Show help if no arguments were specified...
if (!program.args.length) {
    program.help();
    process.exit(0);
}
function configStore(key, value) {
    if (!key) {
        return config.get('config');
    }
    else {
        if (typeof value === 'undefined') {
            return config.get(`config.${key}`);
        }
        else {
            return config.set(`config.${key}`, value);
        }
    }
}
function configStoreDelete(key) {
    config.delete(`config.${key}`);
}
function mergeOptions(options) {
    const defaultOptions = getDefaultOptions(options);
    const globalOptions = configStore();
    return Promise.resolve(Object.assign(defaultOptions, globalOptions, options));
}
function getDefaultOptions(options) {
    return {
        preset: __1.Presets.HD,
        dir: '.',
        template: '${channelName}/${videoTitle}',
        info: (format, cancel) => {
            let sizeLimit = human_1.fromHumanSize(options.limit);
            let approxSize = human_1.fromHumanSize(human_1.toHumanSize(format.downloadSize));
            if (options.limit && approxSize > sizeLimit) {
                return cancel(`${human_1.toHumanSize(format.downloadSize)} download exceeds the ${options.limit} limit!`);
            }
            progressBar = new progress_1.ProgressBar({
                width: 60,
                template: (el) => {
                    const title = chalk.magenta(format.data.videoTitle);
                    const author = chalk.magenta(format.data.channelName);
                    const downloadSize = chalk.cyan(human_1.toHumanSize(format.downloadSize));
                    const elapsed = chalk.yellow(el.data.elapsedStr);
                    const percent = el.data.percent ? chalk.green((el.data.percent || 100).toFixed(1) + '%') : '';
                    const eta = el.data.etaStr ? chalk.yellow(el.data.etaStr) : '';
                    const speed = el.data.bytesPerSecond ? ('(' + chalk.cyan(human_1.toHumanSize(el.data.bytesPerSecond) + '/s') + ')') : '';
                    // TODO: Re-color and re-organize the output details...
                    return `Downloading ${title} by ${author} (${downloadSize} ${summarizeFormat(format)})
  to ${format.path}
  ${elapsed} ${percent} ${el.bar} ${eta} ${speed}`;
                }
            });
        },
        progress: (data) => {
            if (options.silent) {
                return;
            }
            if (data.indeterminate) {
                progressBar.tick(null, data);
            }
            else {
                progressBar.tick(data.progress, data);
            }
        }
    };
}
function swapArgs(origArg, newArg) {
    var index = process.argv.indexOf(origArg);
    if (index > -1) {
        process.argv[index] = newArg;
    }
}
function summarizeFormat(format) {
    let videoResolution = (format.video && (format.video.resolution || format.video.size));
    let videoFps = (format.video && format.video.fps) || EMPTY_STRING;
    let audioEncoding = (format.audio && format.audio.audioEncoding) || EMPTY_STRING;
    let audioBitrate = (format.audio && format.audio.audioBitrate) || EMPTY_STRING;
    let summary = `${audioBitrate}kbps ${audioEncoding}`;
    if (videoResolution) {
        summary = `${videoResolution}p${videoFps} with ${summary}`;
    }
    return summary;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVsbHkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYmluL3B1bGx5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLCtCQUE0QjtBQUM1QixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDckMsTUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDbEQsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUN4QyxNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0IsK0JBQStCO0FBRS9CLDJCQUFvRjtBQUNwRiwwQ0FBeUU7QUFDekUsZ0RBQWdEO0FBR2hELE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQztBQUN4QixNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFL0IsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFdBQUksQ0FBQyxTQUFTLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO0FBQzNELGNBQWMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFakMsTUFBTSxNQUFNLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUMxQixJQUFJLFdBQXNDLENBQUM7QUFPM0Msa0NBQWtDO0FBQ2xDLE9BQU8sQ0FBQyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDOUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsR0FBRyxFQUFFLEVB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